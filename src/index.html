<html lang="en">
	<head>
		<link rel="icon" type="image/png" sizes="192x192" href="./src/images/icon-192.png">
		<!-- <link rel="icon" type="image/png" sizes="32x32" href="./src/images//icon-32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="./src/images/icon-16.png"> -->
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<meta name="theme-color" content="#000000">
		<meta name="description" content="skyguy" />
		<meta name="keywords" content="webgl, threejs, repulsion, effect, hover, web development, demo, tutorial" />
		<meta name="author" content="Skylar Thomas" />
		<meta name="target" content="all">
		<meta http-equiv="cleartype" content="on">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="mobile-web-app-capable" content="yes">
		<title>lightbulbs</title>
		<link href="https://fonts.googleapis.com/css?family=Sacramento|Montserrat:700" rel="stylesheet">
		<link rel="stylesheet" href="https://use.typekit.net/zjs0dpp.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/99/three.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="./src/scripts/vendor/shaders/FresnelShader.js"></script>
		<script src="./src/scripts/vendor/ParticleEngine.js"></script>
		<script src="./src/scripts/vendor/ParticleEngineExamples.js"></script>
		<script type="text/javascript" src="./src/scripts/vendor/CopyShader.js"></script>
		<script type="text/javascript" src="./src/scripts/vendor/EffectComposer.js"></script>
		<script type="text/javascript" src="./src/scripts/vendor/RenderPass.js"></script>
		<script type="text/javascript" src="./src/scripts/vendor/ShaderPass.js"></script>
		<script src="./src/scripts/vendor/GLTFLoader.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,900&display=swap" rel="stylesheet">
		<!-- <link href="https://fonts.googleapis.com/css?family=Manrope:300,400,800&display=swap" rel="stylesheet"> -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.0/paper-core.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/simplex-noise/2.4.0/simplex-noise.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/parallax/3.1.0/parallax.min.js"></script>

	</head>
	<body oncontextmenu="return false;">
		<main>
		    <!-- The cursor elements -->
        <div class="cursor cursor--small"></div>
        <canvas class="cursor cursor--canvas" resize></canvas>

			<div class = "loadingScreen">

				<div data-depth="0.15" class="link" id = "parallaxBuffer"></div>
				<div class = 'endLoading'></div>
				<div class = "parallax" data-relative-input="true">

					<h1 style = "margin-top: -40px;" data-depth="0.2">-_-</h1>
					<h1 style = "margin-top: -2px;"data-depth="0.22">lightbulbs</h1>
					<h4 style = "margin-top: 35px;" data-depth="0.17">[ data viz by skylar thomas ]</h4>

				</div>
			</div>

			<div class="frame">
			      <div id="topBar">
			        <h2 id = "dateLabel">01-02-2020 10:00AM</h2>
			      </div>
			      <div id="leftCol">
			        <h1 style = "text-transform: uppercase">0-0</h1>
							<h3 id = "plusBtn">+</h3>
			        <h2>lightbulbs</h2>
							<div id = "options">
								<h4>who</h4>
								<h4>why</h4>
								<h4>what</h4>
							</div>
			      </div>
			      <div id="rightCol">
			        <p>[</p>
			        <div class="scrollBar" style = "display: none">
								<h1></h1>
								<p>__</p>
							</div>
			      </div>
						<div id = "centerInfo">
							<h1>lightbulbs ?</h1>
							<p style = "width: 55%; margin-left: 22%;">a data viz experiment by skylar thomas following energy level vs lighting setup throughout a day, for the first 3 months of the adventure that was 2020.</p>
						</div>
						<div id = "centerCalendar">
							
						</div>
			      <div id = "center">
			        <span name = "halogen">
			              <div id = "svgContainer">
			                <div id = "inner" style = "transform: translate(-4px, -10px);">
												<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 447 443"><defs><filter x="-50%" y="-50%" width="200%" height="200%" id="Blur1"><feGaussianBlur stdDeviation="25" /></filter>
												<g id="" data-name="Layer 1"><rect class="cls-1" width="900" height="758"/></g><g id="Img1"><path class="cls-1" d="M227.42,144.69v89.77c0,4.07,6.32,4.08,6.32,0V144.69C233.74,140.62,227.42,140.62,227.42,144.69Z"/><path class="cls-1" d="M221.19,146.76q2.69-3.33,5.6-6.47c.93-1,1.87-2,2.83-3l1.52-1.52.93,1.46,2.44,3.81,4.87,7.63a3.16,3.16,0,0,0,5.46-3.2l-5.6-8.76-2.92-4.58c-1.1-1.71-2.36-3.37-4.62-3.37-3.53,0-6.14,3.58-8.35,5.92s-4.52,5-6.64,7.56a3.28,3.28,0,0,0,0,4.48C217.83,147.87,220.1,148.09,221.19,146.76Z"/><path class="cls-1" d="M286.33,281.85c-.22-1.64-.35-3.28-.44-4.92v0l0-7.44a3.19,3.19,0,0,0-3.16-3.16,3.24,3.24,0,0,0-3.17,3.16,68.82,68.82,0,0,0,0,7.6q-10.76-7.95-21.45-16-6.1-4.57-12.25-9.12c-4.33-3.2-8.62-6.81-13.51-9.13a20,20,0,0,0-14.28-1.44c-5.47,1.48-10.79,3.85-16.1,5.82l-33.34,12.35-31.93,11.83L141,259.77a3.19,3.19,0,0,0-2.21-3.89c-1.83-.5-3.23.63-3.89,2.21q-2.76,6.57-5.53,13.13a2.39,2.39,0,0,0,0,1.8,18.53,18.53,0,0,0-.83,2.41A3.61,3.61,0,0,0,129,279a5.89,5.89,0,0,0,3.25,2.42c1.61.61,3.23,1.2,4.84,1.8l9.68,3.59a3.18,3.18,0,0,0,3.89-2.2,3.24,3.24,0,0,0-2.21-3.9l-8.06-3-1.29-.48,57.74-21.39,16.67-6.17c4.79-1.78,9.38-3.77,14.46-1.9,4.71,1.73,8.79,5.25,12.78,8.19s8.12,6,12.16,9q11.91,8.91,23.84,17.76l-5.91,2.16a3.16,3.16,0,0,0,1.68,6.1l6.82-2.49c2.52-.91,5.35-1.65,6.28-4.5,0-.07,0-.14.05-.21A2.42,2.42,0,0,0,286.33,281.85Z"/>
												</g></defs>
												<use style="fill:pink;" filter="url(#Blur1)" xlink:href="#Img1"
												  transform="translate(0,0)"/>
												<use style="fill:white;" xlink:href="#Img1"/>
												  </svg>

			              </div>
			              </div>
			              <h4>[ halogen ]</h4>
			              <h5>5.2</h5>
			        </span>
							<span name = "sunlight">
			              <div id = "svgContainer">
			                <div id = "inner" style = "transform: translate(0px, -0px);">
												<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 447 443"><filter x="-50%" y="-50%" width="200%" height="200%" id="Blur2"><feGaussianBlur stdDeviation="25" /></filter><g id="Img2"><path class="cls-1" d="M301.25,141a3.18,3.18,0,0,0-3.83-5l-59.54,32.2q-1.59-2.44-3.17-4.89c-4.53-7.07-9-14.17-13.54-21.22a3.18,3.18,0,0,0-5.78,2.43q3.21,16.51,4.75,33.27L186.76,195.9l-31.35,16.95c-2.22,1.2-2,5.36.75,5.78,18.42,2.8,36.8,5.72,55.11,9L152.2,290.54l-40.75,43.4c-2.78,3,1.68,7.44,4.48,4.47L188,261.61,218.67,229l2.27.41c-.12,2.07-.22,4.14-.38,6.21-.32,4.05,6,4,6.32,0,.13-1.67.2-3.34.31-5,11,2.11,21.94,4.38,32.87,6.88,11.66,2.67,23.29,5.5,34.91,8.4,2.91.73,5.53-3.09,3.07-5.28a307,307,0,0,1-36.65-39q-3.9-5-7.6-10.06l6.72-7.16Zm-79.79,75.74-5,5.36q-13-2.43-26-4.54-11.81-1.91-23.63-3.69l53.9-29.15Q221.83,200.73,221.46,216.77Zm4.67-42.16c-.54-5.42-1.23-10.83-2-16.22q4.14,6.44,8.31,12.82Zm.62,6.85,9.16-5q4.82,7.26,9.86,14.38l-17.89,19.05Q227.91,195.68,226.75,181.46Zm43.93,40.95c4.52,5,9.23,9.79,14.07,14.46q-28.47-6.9-57.18-12.6c.07-1.64.09-3.28.14-4.92l21.8-23.22A319.69,319.69,0,0,0,270.68,222.41Zm-20.62-36.09q-4.45-6.31-8.72-12.75l27.92-15.09,14.09-7.62Z"/></g>
												</defs>
												<use style="fill:pink;" filter="url(#Blur2)" xlink:href="#Img2"
												  transform="translate(0,0)"/>
												<use style="fill:white;" xlink:href="#Img2"/>
												  </svg>
			              </div>
			              </div>
			              <h4>[ sunlight ]</h4>
			              <h5>5.2</h5>
			        </span>
							<span name = "bluelight">
			              <div id = "svgContainer">
			                <div id = "inner" style = "transform: translate(0px, -0px);">
												<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 447 443"><filter x="-50%" y="-50%" width="200%" height="200%" id="Blur3"><feGaussianBlur stdDeviation="25" /></filter><g id="Img3"><path class="cls-1" d="M302.9,191.83a3.26,3.26,0,0,0-1.94-2.18l-35.3-14.6-44.85-18.56a17.87,17.87,0,0,0-1.82-.75c-2.19-.66-5.1.74-7.24,1.29-9.54,2.41-19.15,4.56-28.62,7.21-3.49,1-2.54,5.92.49,6.21a1.76,1.76,0,0,0,.2.09c27.93,9.31,55,20.88,81.47,33.67q-9.42,23.28-18.82,46.57-4.91,12.12-9.8,24.24c-.79,1.94-1.56,3.89-2.35,5.82-.59,1.42-1.2,3.42-2.93,3.71s-3.62-.72-5.1-1.23c-2.09-.72-4.17-1.45-6.26-2.19q-24.28-8.58-48.12-18.41-6-2.48-11.94-5l-5.62-2.43c-.4-.18-1.35-.79-2-1,.14-.5.23-1.19.3-1.45q3.38-12.12,7.21-24.11,8.76-27.31,19.92-53.78c.66-1.58-.72-3.46-2.21-3.89-1.82-.52-3.23.65-3.89,2.21q-10.74,25.51-19.3,51.87-4.18,12.91-7.82,26c-.52,1.84-1.25,3.81-.56,5.7s2.14,2.59,3.79,3.32c4.16,1.85,8.36,3.62,12.56,5.4q25.8,10.89,52.19,20.35c4.19,1.5,8.4,3.22,12.7,4.41a11.58,11.58,0,0,0,7,0,3.32,3.32,0,0,0,1.4-.31q7-3.22,14-6.63c3.79-1.84,7.55-3.72,11.28-5.68,3.5-1.84,7.75-3.61,10.37-6.66,3.57-4.16,5.77-10.13,8.12-15q6-12.36,11.08-25.13a339.48,339.48,0,0,0,12.59-37A3,3,0,0,0,302.9,191.83ZM152.09,254.72a1.34,1.34,0,0,0,.06-.12S152.14,254.68,152.09,254.72Zm63.84-92.24c.69-.18,2.08-.23,1.72-.5l.73.3,16.36,6.77,51.51,21.31,4,1.65c-7.39,1.89-14.69,4.23-21.89,6.68a725.36,725.36,0,0,0-73.45-31c5-1.26,10.05-2.46,15.07-3.7Q213,163.26,215.93,162.48Zm59.32,87.45c-2.39,5.08-4.83,10.18-7.58,15.08-1.79,3.18-5.12,4.57-8.22,6.23-3.69,2-7.44,3.87-11.19,5.72q-3.4,1.67-6.81,3.29c.44-1.21.86-2.42,1.32-3.55l5.29-13.09q12-29.76,24.05-59.51c7.67-2.58,15.46-5,23.35-6.82A363.44,363.44,0,0,1,275.25,249.93Z"/>
												</g></defs>
												<use style="fill:pink;" filter="url(#Blur3)" xlink:href="#Img3"
												  transform="translate(0,0)"/>
												<use style="fill:white;" xlink:href="#Img3"/>
												  </svg>
			              </div>
			              </div>
			              <h4>[ bluelight ]</h4>
			              <h5>5.2</h5>
			        </span>
							<span name = "fluorescent">
			              <div id = "svgContainer">
			                <div id = "inner" style = "transform: translate(0px, -0px);">
												<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 447 443"><filter x="-50%" y="-50%" width="200%" height="200%" id="Blur4"><feGaussianBlur stdDeviation="25" /></filter><g id="Img4"><path class="cls-1" d="M271.58,153.75c-6.59.79-11,5-14.93,9.88l-89.78,61.85-28.15,19.4a3.21,3.21,0,0,0,.76,5.78l43,12.85-1.32,1.78c-2.42,3.28,3.07,6.43,5.47,3.19l2.26-3.05,43.13,12.87c5.64,1.69,14.64,6.2,19.14.11,1.78-2.42,2.16-5.56,2.75-8.43q1.26-6.09,2.5-12.2,4.72-23.38,9-46.86,4.86-26.53,9.17-53.17C274.92,156,273.83,153.47,271.58,153.75Zm-124,92.72,92.69-63.86,4.63-3.2-8.2,11.07L201.45,238l-14.93,20.14Zm104.93-1.05q-2.16,10.94-4.42,21.86c-.37,1.79-.6,7.44-3,8-1.31.28-3.13-.57-4.32-.92l-6-1.8L192.93,260l60.72-81.9c2.4-3.23,4.72-6.56,7.22-9.73l6.34-4.37Q260.46,204.83,252.47,245.42Z"/>
												</g></defs>
												<use style="fill:pink;" filter="url(#Blur4)" xlink:href="#Img4"
												  transform="translate(0,0)"/>
												<use style="fill:white;" xlink:href="#Img4"/>
												  </svg>
			              </div>
			              </div>
			              <h4>[ fluorescent ]</h4>
			              <h5>5.2</h5>
			        </span>
							<span name = "led">
			              <div id = "svgContainer">
			                <div id = "inner" style = "transform: translate(0px, -0px);">
												<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 447 443"><filter x="-50%" y="-50%" width="200%" height="200%" id="Blur5"><feGaussianBlur stdDeviation="25" /></filter><g id="Img5"><path class="cls-1" d="M229.84,220.79c-1.07-5.51-7.35-8.28-12.48-6.91-6.26,1.67-8.57,8.88-6.71,14.6,4.24,13,26.33,13.91,31.37,1.13,2.37-6,1.61-13.85-.36-19.89-2-6.24-6.12-11.71-12.32-14.24-13.67-5.59-27.53,4.12-33.13,16.36-5.38,11.74-7.13,28.28,2.92,38.14,4.93,4.83,11.67,7,18.36,7.85,7.09.94,15,1.35,21.93-.9,14.4-4.69,20.11-20.12,20.76-34a101,101,0,0,0-1.33-23.87A23.61,23.61,0,0,0,247,182.72c-10.94-6.14-25.53-7-37.71-5.22s-24.37,8.15-29.93,19.79c-3.26,6.82-4.37,14.43-4.93,21.91a92.25,92.25,0,0,0,.65,19.86c1.76,12.32,6.66,24.81,16.29,33.09A48.34,48.34,0,0,0,211.09,282a84.89,84.89,0,0,0,23.41,2.79,38.13,38.13,0,0,0,20.74-6.43,53.79,53.79,0,0,0,13.94-14.82c15.8-23.89,22.17-57.92,5-82.81-15.38-22.25-45.83-29.42-71.36-24.9-14.18,2.51-28,9.32-37.74,20.07-9.43,10.4-13.66,23.74-14.26,37.59a124.81,124.81,0,0,0,.86,19.13c.44,4,6.77,4,6.32,0-1.22-11.15-1.72-22.65,1.34-33.56a48.86,48.86,0,0,1,20.88-27.75c19.34-12.53,45.89-13.63,66.91-4.56A50,50,0,0,1,271.21,188c6.29,11.17,8,24.32,6.24,36.92A87.74,87.74,0,0,1,264.59,259c-6.35,10.07-15.35,18.28-27.68,19.33a72.75,72.75,0,0,1-20.64-1.63A48.51,48.51,0,0,1,198.89,270c-9-6-14.11-16-16.51-26.24a82.17,82.17,0,0,1-.39-34c1.15-5.83,3.21-11.52,7.3-15.93a31,31,0,0,1,12.59-8c9.84-3.43,20.86-3.47,31-1.39,5.4,1.11,11.14,2.88,15.16,6.84,4.58,4.51,5.16,11,5.52,17.07.72,12.43,1.52,27.08-7.53,37-4.13,4.52-9.46,6.47-15.49,6.79a55.32,55.32,0,0,1-18-1.67c-5.38-1.56-10.07-4.72-12.44-9.94s-2.29-11.19-1.21-16.59c2.17-10.8,9.07-22.88,21.33-23.58,12.74-.73,17.64,12.45,16.75,23.21-.22,2.57-.94,5.34-3.11,7s-5.51,2-8.23,1.85c-4.86-.3-10.72-3.9-9.11-9.59,1-3.41,6.47-4.12,7.22-.25s6.87,2.3,6.1-1.68Z"/>
												</g></defs>
												<use style="fill:pink;" filter="url(#Blur5)" xlink:href="#Img5"
												  transform="translate(0,0)"/>
												<use style="fill:white;" xlink:href="#Img5"/>
												  </svg>

			              </div>
			              </div>
			              <h4>[ led ]</h4>
			              <h5>5.2</h5>
			        </span>
							<span name = "white neon">
			              <div id = "svgContainer">
			                <div id = "inner" style = "transform: translate(0px, -0px);">
												<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 447 443"><filter x="-50%" y="-50%" width="200%" height="200%" id="Blur6"><feGaussianBlur stdDeviation="25" /></filter><g id="Img6"><path class="cls-1" d="M154.43,214.84l27.93-5c3.34-.6,6.78-1.31,9.14-4,2.55-2.88,2.64-6.94,3-10.56q2.77-27.69,5.54-55.37l-6.21.84q8.1,59.2,19.09,118,3.15,16.85,6.54,33.64c.42,2.09,3,2.79,4.64,1.89,6-3.16,6.5-10.51,6.81-16.5l1.38-26.22,2.77-53,1.6-30.42-6.21.84,14.19,50.49c.86,3.05,1.41,6.87,3.89,9.11,3.08,2.8,6.62.92,9.74-.67l23.43-12c3.63-1.85.43-7.3-3.19-5.46l-20.15,10.28c-1.57.8-3.46,2.22-5.16,2.63-.84.21-.26.41-.74,0s-.45-1.15-.58-1.6c-1.12-3.67-2.08-7.4-3.12-11.1l-12.21-43.42c-1-3.52-6-2.68-6.22.84l-3.35,64-1.65,31.47c-.27,5.25-.51,10.49-.82,15.74-.2,3.23-.37,7.75-3.6,9.46l4.65,1.89Q213.76,232.14,204.81,173q-2.55-17-4.88-34c-.52-3.79-5.89-2.41-6.21.84q-2.52,25.08-5,50.14l-.63,6.27c-.16,1.56-.14,3.67-1.07,5-1.71,2.47-6.79,2.47-9.43,2.94l-24.82,4.45c-4,.71-2.31,6.81,1.68,6.1Z"/>
												</g></defs>
												<use style="fill:pink;" filter="url(#Blur6)" xlink:href="#Img6"
												  transform="translate(0,0)"/>
												<use style="fill:white;" xlink:href="#Img6"/>
												  </svg>
			              </div>
			              </div>
			              <h4>[ pink neon ]</h4>
			              <h5>5.2</h5>
			        </span>
							<div id = "showStrike">
								<p style = "transform: rotate(0deg)">+</p>
								<p>]</p>
							</div>
							<p id = "strikedOut">hello world</p>
			      </div>
			      <div id="bottomCol">
							<p style = "left:10%;position:fixed">]</p>
			        <p id="aggregate" style="transform: rotate(0deg);">[aggregate]</p>
			        <p id="daily" style="transform: rotate(0deg);">daily</p>
							<p style = "right:10%;position:fixed">]</p>
			      </div>
			    </div>

			<!--SHADERS-->
			<script type="x-shader/x-vertex" id="vertexShader">
#define GLSLIFY 1
// Texture varyings
varying vec2 v_uv;

/*
 * The main program
 */
void main() {
    // Calculate the varyings
    v_uv = uv;

    // Vertex shader output
    gl_Position = vec4(position, 1.0);
}

		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">

				// Common uniforms
				uniform vec2 u_resolution;
				uniform vec2 u_mouse;
				uniform float u_time;

				// Texture uniforms
				uniform sampler2D u_texture;

				// Texture varyings
				varying vec2 v_uv;

				/*
				 * Random number generator with a float seed
				 *
				 * Credits:
				 * http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0
				 */
				highp float random1d(float dt) {
						highp float c = 43758.5453;
						highp float sn = mod(dt, 3.14);
						return fract(sin(sn) * c);
				}

				/*
				 * Pseudo-noise generator
				 *
				 * Credits:
				 * https://thebookofshaders.com/11/
				 */
				highp float noise1d(float value) {
						highp float i = floor(value);
						highp float f = fract(value);
						return mix(random1d(i), random1d(i + 1.0), smoothstep(0.0, 1.0, f));
				}

				/*
				 * Random number generator with a vec2 seed
				 *
				 * Credits:
				 * http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0
				 * https://github.com/mattdesl/glsl-random
				 */
				highp float random2d(vec2 co) {
						highp float a = 12.9898;
						highp float b = 78.233;
						highp float c = 43758.5453;
						highp float dt = dot(co.xy, vec2(a, b));
						highp float sn = mod(dt, 3.14);
						return fract(sin(sn) * c);
				}

				/*
				 * The main program
				 */
				void main() {

					// float r = u_resolution.y * 1.5; //1.5
					// float f = step( 0.5, u_mouse.y / u_resolution.y ) * ( ( u_mouse.y - r ) / ( u_resolution.y - r ) );
						float r = u_resolution.y * 0.8;
						float f = step( 0.8, u_mouse.y / u_resolution.y ) * ( ( u_mouse.y - r ) / ( u_resolution.y - r ) );

						// Calculate the effect relative strength
						float strength = (0.3 + 0.7 * noise1d(0.3 * u_time)) * f;

						// Calculate the effect jump at the current u_time interval
						float jump = 500.0 * floor(0.3 * f * (u_time + noise1d(u_time)));

						// Shift the texture coordinates
						vec2 uv = v_uv;
						uv.y += 0.2 * strength * (noise1d(5.0 * v_uv.y + 2.0 * u_time + jump) - 0.5);
						uv.x += 0.1 * strength * (noise1d(100.0 * strength * uv.y + 3.0 * u_time + jump) - 0.5);

						// Get the texture pixel color
						vec3 pixel_color = texture2D(u_texture, uv).rgb;

						// Add some white noise
						strength = 0.08;
						pixel_color += vec3(5.0 * strength * (random2d(v_uv + 1.133001 * vec2(u_time, 1.13)) - 0.5)); //change strength here for opacity

						// Fragment shader output
						gl_FragColor = vec4(pixel_color, 1.0);
				}
	</script>

	<script id="fragmentShader2" type="x-shader/x-fragment">
	// @author brunoimbrizi / http://brunoimbrizi.com

	precision highp float;

	uniform sampler2D uTexture;

	varying vec2 vPUv;
	varying vec2 vUv;

	void main() {
		vec4 color = vec4(0.0);
		vec2 uv = vUv;
		vec2 puv = vPUv;

		// pixel color
		vec4 colA = texture2D(uTexture, puv);

		// greyscale
		float grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;
		vec4 colB = vec4(grey, grey, grey, 1.0);

		// circle
		float border = 0.3;
		float radius = 0.5;
		float dist = radius - distance(uv, vec2(0.5));
		float t = smoothstep(0.0, border, dist);

		// final color
		color = colB;
		color.a = t;

		gl_FragColor = color;
	}

	</script>

	<script type="x-shader/x-vertex" id="vertexShader2">
	// @author brunoimbrizi / http://brunoimbrizi.com

	precision highp float;

	attribute float pindex;
	attribute vec3 position;
	attribute vec3 offset;
	attribute vec2 uv;
	attribute float angle;

	uniform mat4 modelViewMatrix;
	uniform mat4 projectionMatrix;

	uniform float uTime;
	uniform float uRandom;
	uniform float uDepth;
	uniform float uSize;
	uniform vec2 uTextureSize;
	uniform sampler2D uTexture;
	uniform sampler2D uTouch;

	varying vec2 vPUv;
	varying vec2 vUv;

	#pragma glslify: snoise2 = require(glsl-noise/simplex/2d)

	float random(float n) {
		return fract(sin(n) * 43758.5453123);
	}

	void main() {
		vUv = uv;

		// particle uv
		vec2 puv = offset.xy / uTextureSize;
		vPUv = puv;

		// pixel color
		vec4 colA = texture2D(uTexture, puv);
		float grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;

		// displacement
		vec3 displaced = offset;
		// randomise
		displaced.xy += vec2(random(pindex) - 0.5, random(offset.x + pindex) - 0.5) * uRandom;
		float rndz = (random(pindex) + snoise_1_2(vec2(pindex * 0.1, uTime * 0.1)));
		displaced.z += rndz * (random(pindex) * 2.0 * uDepth);
		// center
		displaced.xy -= uTextureSize * 0.5;

		// touch
		float t = texture2D(uTouch, puv).r;
		displaced.z += t * 20.0 * rndz;
		displaced.x += cos(angle) * t * 20.0 * rndz;
		displaced.y += sin(angle) * t * 20.0 * rndz;

		// particle size
		float psize = (snoise_1_2(vec2(uTime, pindex) * 0.5) + 2.0);
		psize *= max(grey, 0.2);
		psize *= uSize;

		// final position
		vec4 mvPosition = modelViewMatrix * vec4(displaced, 1.0);
		mvPosition.xyz += position * psize;
		vec4 finalPosition = projectionMatrix * mvPosition;

		gl_Position = finalPosition;
	}

	</script>
	<script type="x-shader/x-vertex" id="vertexShader-rgb">
#define GLSLIFY 1
// Texture varyings
varying vec2 v_uv;

/*
 * The main program
 */
void main() {
    // Calculate the varyings
    v_uv = uv;

    // Vertex shader output
    gl_Position = vec4(position, 1.0);
}

		</script>

		<script type="x-shader/x-fragment" id="fragmentShader-rgb">
#define GLSLIFY 1
// Common uniforms
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform float u_frame;

// Texture uniforms
uniform sampler2D u_texture;

// Texture varyings
varying vec2 v_uv;

/*
 * The main program
 */
void main() {
    // Calculate the color offset directions
    float angle = u_time;
    vec2 red_offset = vec2(cos(angle), sin(angle));
    angle += radians(120.0);
		vec2 blue_offset = vec2(cos(angle), sin(angle));
    angle += radians(120.0);
		vec2 green_offset = vec2(cos(angle), sin(angle));


    // Calculate the offset size as a function of the pixel distance to the center
    float offset_size = 0.1 * length(gl_FragCoord.xy - 0.5 * u_resolution);

    // Scale the offset size by the relative mouse position
    offset_size *= u_mouse.x / u_resolution.x;

    // Extract the pixel color values from the input texture
    float red = texture2D(u_texture, v_uv - offset_size * red_offset / u_resolution).r;
    float green = texture2D(u_texture, v_uv - offset_size * green_offset / u_resolution).g;

		//float blue = green; //if only want blue and red

    float blue = texture2D(u_texture, v_uv - offset_size * blue_offset / u_resolution).b;

    // Fragment shader output
    gl_FragColor = vec4(red, green, blue, 1.0);
}

		</script>

		</main>
		<!--Custom mouse-->
		<script src="./src/scripts/tutorial.js"></script>
	</body>
</html>
